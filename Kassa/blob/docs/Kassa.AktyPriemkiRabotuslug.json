{
  "periodictype": "ForAllDocumentsThatType",
  "autonumerizer": true,
  "numeratortype": "Text",
  "length": 24,
  "uniquecontrol": true,
  "acceptaccountingprocessing": true,
  "automovedeletion": true,
  "autorownumerizer": true,
  "accounting": false,
  "calculation": false,
  "operationalaccounting": false,
  "createoperation": "Always",
  "headerrequsites": [
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.hr.DataUcheta",
        "title": {
          "ru_RU": "Дата учета",
          "en_EN": "Data ucheta"
        },
        "description": {}
      },
      "type": {
        "mnemo": "primitive.date"
      },
      "properties": {},
      "required": false
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.hr.Summa",
        "title": {
          "ru_RU": "Сумма",
          "en_EN": "Summa"
        },
        "description": {}
      },
      "type": {
        "mnemo": "primitive.real"
      },
      "properties": {
        "precision": "2",
        "length": "14",
        "unsigned": "false"
      },
      "required": false
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.hr.Postavshik",
        "title": {
          "ru_RU": "Поставщик",
          "en_EN": "Postavshik"
        },
        "description": {}
      },
      "type": {
        "mnemo": "Kassa.Kontragenty"
      },
      "properties": {},
      "required": false
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.hr.Operaciya",
        "title": {
          "ru_RU": "Операция",
          "en_EN": "Operaciya"
        },
        "description": {}
      },
      "type": {
        "mnemo": "Kassa.Operacii"
      },
      "properties": {},
      "required": false
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.hr.Podrazdelenie",
        "title": {
          "ru_RU": "Подразделение",
          "en_EN": "Podrazdelenie"
        },
        "description": {}
      },
      "type": {
        "mnemo": "Kassa.Podrazdeleniya"
      },
      "properties": {},
      "required": false
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.hr.KodUslugiRabot",
        "title": {
          "ru_RU": "Код услуги, работ",
          "en_EN": "Kod uslugi rabot"
        },
        "description": {}
      },
      "type": {
        "mnemo": "Kassa.MaterialnyeZapasy"
      },
      "properties": {},
      "required": false
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.hr.Primechanie",
        "title": {
          "ru_RU": "Примечание",
          "en_EN": "Primechanie"
        },
        "description": {}
      },
      "type": {
        "mnemo": "primitive.text"
      },
      "properties": {
        "unlimited": "false",
        "length": "300"
      },
      "required": false
    }
  ],
  "tablerequsites": [
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.Operaciya",
        "title": {
          "ru_RU": "Операция",
          "en_EN": "Operaciya"
        },
        "description": {}
      },
      "type": {
        "mnemo": "Kassa.Operacii"
      },
      "properties": {},
      "required": true
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.TMC",
        "title": {
          "ru_RU": "ТМЦ",
          "en_EN": "TMC"
        },
        "description": {}
      },
      "type": {
        "mnemo": "Kassa.MaterialnyeZapasy"
      },
      "properties": {},
      "required": false
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.EdinicaIzmereniya",
        "title": {
          "ru_RU": "Единица измерения",
          "en_EN": "Edinica izmereniya"
        },
        "description": {}
      },
      "type": {
        "mnemo": "Kassa.EdinicyIzmereniyaOKEI"
      },
      "properties": {},
      "required": false
    },
    {
      "istotal": false,
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.Kolichestvo",
        "title": {
          "ru_RU": "Количество",
          "en_EN": "Kolichestvo"
        },
        "description": {}
      },
      "type": {
        "mnemo": "primitive.real"
      },
      "properties": {
        "precision": "4",
        "length": "18",
        "unsigned": "false"
      },
      "required": false
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.KVFO",
        "title": {
          "ru_RU": "КВФО",
          "en_EN": "KVFO"
        },
        "description": {}
      },
      "type": {
        "mnemo": "Kassa.KVFO"
      },
      "properties": {},
      "required": true
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.KPSDb",
        "title": {
          "ru_RU": "КПС дб",
          "en_EN": "KPS db"
        },
        "description": {}
      },
      "type": {
        "mnemo": "Kassa.KPS"
      },
      "properties": {},
      "required": true
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.Debet",
        "title": {
          "ru_RU": "Дебет",
          "en_EN": "Debet"
        },
        "description": {}
      },
      "type": {
        "mnemo": "primitive.account"
      },
      "properties": {
        "showanalytic": "true"
      },
      "required": true
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.KOSGUDb",
        "title": {
          "ru_RU": "КОСГУ дб",
          "en_EN": "KOSGU db"
        },
        "description": {}
      },
      "type": {
        "mnemo": "Kassa.KOSGUEKR"
      },
      "properties": {},
      "required": true
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.KPSKr",
        "title": {
          "ru_RU": "КПС кр",
          "en_EN": "KPS kr"
        },
        "description": {}
      },
      "type": {
        "mnemo": "Kassa.KPS"
      },
      "properties": {},
      "required": true
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.Kredit",
        "title": {
          "ru_RU": "Кредит",
          "en_EN": "Kredit"
        },
        "description": {}
      },
      "type": {
        "mnemo": "primitive.account"
      },
      "properties": {
        "showanalytic": "true"
      },
      "required": true
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.KOSGUKr",
        "title": {
          "ru_RU": "КОСГУ кр",
          "en_EN": "KOSGU kr"
        },
        "description": {}
      },
      "type": {
        "mnemo": "Kassa.KOSGUEKR"
      },
      "properties": {},
      "required": true
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.Tovaroproizvoditel",
        "title": {
          "ru_RU": "Товаропроизводитель",
          "en_EN": "Tovaroproizvoditel"
        },
        "description": {}
      },
      "type": {
        "mnemo": "Kassa.Strany"
      },
      "properties": {},
      "required": false
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.NGTD",
        "title": {
          "ru_RU": "№ ГТД",
          "en_EN": "№ GTD"
        },
        "description": {}
      },
      "type": {
        "mnemo": "primitive.text"
      },
      "properties": {
        "unlimited": "false",
        "length": "300"
      },
      "required": false
    },
    {
      "istotal": false,
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.AkcizVTch",
        "title": {
          "ru_RU": "Акциз в т.ч.",
          "en_EN": "Akciz v tch"
        },
        "description": {}
      },
      "type": {
        "mnemo": "primitive.real"
      },
      "properties": {
        "precision": "2",
        "length": "14",
        "unsigned": "false"
      },
      "required": false
    },
    {
      "istotal": false,
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.SummaBezNDS",
        "title": {
          "ru_RU": "Сумма без НДС",
          "en_EN": "Summa bez NDS"
        },
        "description": {}
      },
      "type": {
        "mnemo": "primitive.real"
      },
      "properties": {
        "precision": "2",
        "length": "14",
        "unsigned": "false"
      },
      "required": false
    },
    {
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.NDS",
        "title": {
          "ru_RU": "НДС%",
          "en_EN": "NDS"
        },
        "description": {}
      },
      "type": {
        "mnemo": "Kassa.StavkiNDS"
      },
      "properties": {},
      "required": false
    },
    {
      "istotal": false,
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.SummaNDS",
        "title": {
          "ru_RU": "Сумма НДС",
          "en_EN": "Summa NDS"
        },
        "description": {}
      },
      "type": {
        "mnemo": "primitive.real"
      },
      "properties": {
        "precision": "2",
        "length": "14",
        "unsigned": "false"
      },
      "required": false
    },
    {
      "istotal": true,
      "meta": {
        "mnemo": "Kassa.AktyPriemkiRabotuslug.tr.VsegoSNDS",
        "title": {
          "ru_RU": "Всего с НДС",
          "en_EN": "Vsego s NDS"
        },
        "description": {}
      },
      "type": {
        "mnemo": "primitive.real"
      },
      "properties": {
        "precision": "2",
        "length": "14",
        "unsigned": "false"
      },
      "required": true
    }
  ],
  "basedondocuments": {
    "isthebasis": [],
    "maybethebasisforanykind": false
  },
  "formdescription": {
    "script": {
      "title": "script",
      "sources": ""
    }
  },
  "formdocument": {
    "script": {
      "title": "script",
      "sources": ""
    }
  },
  "script": {
    "title": "Скрипт документа Акты приемки работ (услуг)",
    "sources": "function preSave(currentDocument) {\r\n    processDocument(currentDocument, new DocNdsHandler()\r\n                                   , new DocSummaHandler()\r\n                                   , new DocReferenceHandler(\u0027TMC\u0027, [\u0027EdIzm\u0027, \u0027Strana\u0027], [\u0027EdinicaIzmereniya\u0027, \u0027Tovaroproizvoditel\u0027])\r\n                                   , new DocFillTableByHatHandler(\u0027Operaciya\u0027, \u0027Operaciya\u0027)\r\n                                   , new DocReferenceHandler(\u0027Operaciya\u0027, [\u0027KVFO\u0027, \u0027KPSDebet\u0027, \u0027Debet\u0027, \u0027KPSKredit\u0027, \u0027Kredit\u0027], [\u0027KVFO\u0027, \u0027KPSDb\u0027, \u0027Debet\u0027, \u0027KPSKr\u0027, \u0027Kredit\u0027])                                           \r\n                   );\r\n}\r\n\r\n//то же самое(за исключением НДС), но работает дольше. Расширяемость, читаемость, переиспользуемость на уровне школьника 5ого класса. \r\n//про поддержку лучше вообще объявить минуту молчания, но как пример простого решения - подойдет\r\nfunction preSaveSimpleForUnderstanding(currentDocument) { \r\n    let mnemo \u003d currentDocument.getMnemo(); \r\n    currentDocument.set(mnemo + \u0027.hr.Summa\u0027, getCalculatedSum(currentDocument, mnemo + \u0027.tr.VsegoSNDS\u0027));\r\n    \r\n    let operation \u003d currentDocument.get(mnemo + \u0027.hr.Operaciya\u0027);\r\n    for (let tableRec of currentDocument.getRows()){\r\n        if (operation \u0026\u0026 !tableRec.get(mnemo + \u0027.tr.Operaciya\u0027)){\r\n            tableRec.put(mnemo + \u0027.tr.Operaciya\u0027, operation);\r\n        }\r\n        \r\n        let tmc \u003d tableRec.get(mnemo + \u0027.tr.\u0027 + \u0027TMC\u0027);\r\n        if (tmc) {\r\n            tableRec.put(mnemo + \u0027.tr.\u0027 + \u0027EdIzm\u0027, tmc.get(tmc.getMnemo() + \u0027.\u0027 + \u0027EdinicaIzmereniya\u0027));\r\n            tableRec.put(mnemo + \u0027.tr.\u0027 + \u0027Strana\u0027, tmc.get(tmc.getMnemo() + \u0027.\u0027 + \u0027Tovaroproizvoditel\u0027));\r\n        }        \r\n    }\r\n}\r\n\r\n\r\nfunction baseOn(base, targetMnemo){\r\n    let organization \u003d base.getOrganization();\r\n    let currentDocument \u003d EntityFactory.createDocument(targetMnemo);\r\n    let docMnemo \u003d currentDocument.getMnemo();\r\n    let baseMnemo \u003d \u0027Razrabotka.SchetafakturyVydannye\u0027;\r\n\r\n    currentDocument.setParent(base);\r\n    currentDocument.setNumber(\u0027001\u0027);  \r\n    currentDocument.setOrganization(organization); \r\n    \r\n/*Из шапки ЗКР в шапку Акта приемки работ\r\nСумма -\u003e Сумма, Получатель -\u003e Поставщик\r\n\r\nИз фактуры ЗКР в фактуру Акта\r\nКВФО -\u003e КВФО, Дебет+КПСдб+Аналитика -\u003e Кредит+КПСкр+Аналитика, Сумма без НДС -\u003e Сумма без НДС, НДС% -\u003e НДС%, Сумма НДС -\u003e Сумма НДС, Сумма -\u003e Всего с НДС*/\r\n\r\n    \r\n    currentDocument.set( docMnemo + \u0027.hr.Summa\u0027, base.get(baseMnemo + \u0027.hr.Summa\u0027) );\r\n    currentDocument.set( docMnemo + \u0027.hr.BankovskieRekvizityOrganizacii\u0027, base.get(baseMnemo + \u0027.hr.BankovskieRekvizityOrganizacii\u0027) );\r\n    currentDocument.set( docMnemo + \u0027.hr.Zakazchik\u0027, base.get(baseMnemo + \u0027.hr.Pokupatel\u0027) );\r\n    currentDocument.set( docMnemo + \u0027.hr.BankovskieRekvizityKontragenta\u0027, base.get(baseMnemo + \u0027.hr.BankovskieRekvizityKontragenta\u0027) );\r\n    currentDocument.set( docMnemo + \u0027.hr.Operaciya\u0027, base.get(baseMnemo + \u0027.hr.Operaciya\u0027) );\r\n    currentDocument.set( docMnemo + \u0027.hr.Podrazdelenie\u0027, base.get(baseMnemo + \u0027.hr.Podrazdelenie\u0027) );\r\n    \r\n    let debitAccount \u003d base.get(baseMnemo + \u0027.hr.BalansovyiiSchet\u0027);\r\n    SetAnaliticInAccount(debitAccount, \u0027SchetafakturyVydannye\u0027, base);\r\n    let debitKOSGU \u003d getKOSGUDebit(debitAccount);\r\n    let creditKOSGU \u003d EntityFactory.getCatalogs().get(\u0027Razrabotka.KOSGUEKR\u0027).findByCode(\u0027131\u0027)[0];\r\n    let creditAccount \u003d EntityFactory.getPlan().getAccounts().findByCode(\u002740110\u0027).get(0);\r\n    creditAccount.put(0, creditKOSGU);\r\n            \r\n    for (let tableRec of base.getRows()){\r\n        let row \u003d  currentDocument.addTableRow();\r\n\r\n        row.put(docMnemo + \u0027.tr.Operaciya\u0027, base.get(baseMnemo + \u0027.hr.Operaciya\u0027) );\r\n        row.put(docMnemo + \u0027.tr.KVFO\u0027, base.get(baseMnemo + \u0027.hr.KVFO\u0027) );\r\n        row.put(docMnemo + \u0027.tr.KPSDb\u0027, base.get(baseMnemo + \u0027.hr.KPS\u0027) );\r\n        row.put(docMnemo + \u0027.tr.Debet\u0027, debitAccount );\r\n        row.put(docMnemo + \u0027.tr.KOSGUDb\u0027, debitKOSGU );\r\n        row.put(docMnemo + \u0027.tr.Kredit\u0027, creditAccount );\r\n        row.put(docMnemo + \u0027.tr.KOSGUKr\u0027, creditKOSGU );\r\n        row.put(docMnemo + \u0027.tr.TMC\u0027, tableRec.get(baseMnemo + \u0027.tr.TMC\u0027) );\r\n        row.put(docMnemo + \u0027.tr.Kolichestvo\u0027, tableRec.get(baseMnemo + \u0027.tr.Kolichestvo\u0027) );\r\n        row.put(docMnemo + \u0027.tr.CenaSNDS\u0027, tableRec.get(baseMnemo + \u0027.tr.CenaSNDS\u0027) );\r\n        row.put(docMnemo + \u0027.tr.SummaBezNDS\u0027, tableRec.get(baseMnemo + \u0027.tr.SummaBezNDS\u0027) );\r\n        row.put(docMnemo + \u0027.tr.NDS\u0027, tableRec.get(baseMnemo + \u0027.tr.NDS\u0027) );\r\n        row.put(docMnemo + \u0027.tr.SummaNDS\u0027, tableRec.get(baseMnemo + \u0027.tr.SummaNDS\u0027) );\r\n        row.put(docMnemo + \u0027.tr.VsegoSNDS\u0027, tableRec.get(baseMnemo + \u0027.tr.VsegoSNDS\u0027) );\r\n        row.put(docMnemo + \u0027.tr.SebestoimostbezNDS\u0027, tableRec.get(baseMnemo + \u0027.tr.SebestoimostbezNDS\u0027) );\r\n        row.put(docMnemo + \u0027.tr.Tovaroproizvoditel\u0027, tableRec.get(baseMnemo + \u0027.tr.Tovaroproizvoditel\u0027) );\r\n        row.put(docMnemo + \u0027.tr.GTD\u0027, tableRec.get(baseMnemo + \u0027.tr.GTD\u0027) );\r\n        row.put(docMnemo + \u0027.tr.AkcizVTch\u0027, tableRec.get(baseMnemo + \u0027.tr.AkcizVTch\u0027) );\r\n    }\r\n          \r\n    currentDocument.save()\r\n    return currentDocument;\r\n}"
  },
  "algorithms": [
    {
      "mnemo": "Kassa.AktyPriemkiRabotuslug.AktPriemkiSKreditaScheta"
    },
    {
      "mnemo": "Kassa.AktyPriemkiRabotuslug.AktPriemkiSVydeleniemNDS"
    }
  ],
  "printedformset": [],
  "grants": {},
  "meta": {
    "mnemo": "Kassa.AktyPriemkiRabotuslug",
    "title": {
      "ru_RU": "Акты приемки работ (услуг)",
      "en_EN": "Akty priemki rabot uslug"
    },
    "description": {}
  }
}